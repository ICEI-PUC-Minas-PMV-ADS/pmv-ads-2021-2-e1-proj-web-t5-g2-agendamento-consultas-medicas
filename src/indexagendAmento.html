<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="styleagenAgendameto.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  </head>
  <body>
    <div class="container-fluid">
        <aside class="Box1">
            <nav>
              </br>
              <div class="fig">
                <img src="">
              </div> 
              
                </br>
        
              <div class="boxMenu">
                <p class="boxText">Paciente</p>
              </div>
        
               </br></br> <!-- hue hue -->
        
              <ul>
                <div class="espaco"></div>
                <div class="Topic">
                  <il>
                    <p class="text">Painel</p>
                  </il>
                </div>
                <div class="espaco"></div>
                <div class="Topic">
                  <il>
                    <p class="text">Cadastro</p>
                  </il>
                </div>
                <div class="espaco"></div>
                <div class="Topic1">
                  <il>
                    <p class="text1">Meus Dados</p>
                  </il>
                </div>
                <div class="espaco"></div>
                <div class="Topic">
                  <il>
                    <p class="text">Agendamentos</p>
                  </il>
                </div>
                <div class="espaco"></div>
                <div class="Topic1">
                  <il>
                    <p class="text1">Consultas Agendada</p>
                  </il>
                </div>
                <div class="espaco"></div>
                <div class="Topic">
                  <il>
                    <p class="text">Historico de Consulta</p>
                  </il>
                </div>
                <div class="espaco"></div>
                <div class="Topic1">
                  <il>
                    <p class="text1">Consultas finalizadas</p>
                  </il>
                </div>
              </ul>
        
              </br> </br> <!-- hue hue -->
              
              <div class="boxMenu">
                  <p class="boxText">Desconectar</p>
              </div>
            </nav>           
        </aside>
        <header class="Box2">  
         <div class="logo">
          <img src="logo.png" alt="logo">        
         </div>
          </br> 
         <div class="titulo">
           <h1> Agendadas </h1>
         </div>
        </header>

        <main class="Box3">
          
          <div class="direction">
           <!--<div>
             <h4> Data:  </h4>
                <input 
                class="imput"
                type="text"
                id="data"
                placeholder=""/>
            </div>-->
            <div>
              <h5 class="">Especialidade</h5>
              <input 
                class="imput"
                type="text"
                id="especialidade"
                placeholder=""/>
            </div>
            <div class="mm">
            <button  type="button" class="btn btn-primary"  > 
              <p> buscar </p>  
            </button>
            </div>
          </div>
              </br>    
        <div id="table-contatos">   
          <div class="column">
            <div class="col-sm-8">
              <div class="card border-primary mb-3">
                <div class="card-body">
                  <img src="..." alt="..." class="rounded-top">
                  <h3 class="card-title " id="Doutor">Dr. Henqiue da silva </h3>
                  <p class="card-text" ><h6>Especialidade:</h6> <div id="especiaidade">medicina nuclar e radiologia</div> </p>
                  <a href="#" class="btn btn-outline-primary">Mais informaçoes </a>
                    <div class="row">
                      <div class="card-subtitle"> <h6>Endereço:</h6> </div>
                        <p id="enderço" >rua dos amantes numero 12</p> 
                    </div>
                    <div class="row1">
                      <div class="card-subtitle"> <h6>Data:</h6> </div>
                        <p id="data">11/11/2021</p> 
                        <div class="lateral "> | </div>
                        <div class="card-subtitle"> <h6>Hora:</h6> </div>
                        <p id="hora">11:11</p>                  
                    </div>       
                    <div class="row2">
                      <a class="btn btn-primary" href="#" role="button">remarcar</a>
                      <div class="btn btn-primary" href="#" role="button">cancelar </div>
                    </div>         
                </div>
              </div>
            </div>
                </br>
                
                <div class="col-sm-8">
                  <div class="card border-primary mb-3">
                      <div class="card-body">
                          <img src="..." alt="..." class="rounded-top">
                          <h3 class="card-title">Dr. Henqiue da silva </h3>
                          <p class="card-text" ><h6>Especialidade:</h6> <div id="especiaidade1"></div> </p>
                          <a href="#" class="btn btn-outline-primary">Mais informaçoes </a>
                            <div class="row">
                              <div class="card-subtitle"> <h6>Endereço:</h6> </div>
                                <p>rua dos amantes numero 12</p> 
                            </div>
                            <div class="row1">
                              <div class="card-subtitle"> <h6>Data:</h6> </div>
                                <p>11/11/2021</p> 
                                <div class="lateral "> | </div>
                                <div class="card-subtitle"> <h6>Hora:</h6> </div>
                                <p>11:11</p>            
                            </div>     
                            <div class="row2">
                              <a class="btn btn-primary" href="" role="button">remarcar</a>
                              <div class="btn btn-primary"  role="button">cancelar </div>
                            </div>              
                        </div>
                    </div>
                  </div>
                </div>
            </div>  
        </main>

        <footer class="Box4"></footer>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="dbGeral.js"></script>
    <script>
        function exibeContatos() {
            // Remove todas as linhas do corpo da tabela
            $("#table-contatos").html("");

            // Popula a tabela com os registros do banco de dados
            for (i = 0; i < dbGeral.js.length; i++) {
                let contato = dbGeral.medico[i];

                $("#table-contatos").append(`<ul class="ulmeucadastroMedico">
                                                    <li scope="row"><p>${contato.id}</p></li><br> 
                                                    <img class="imgmed" src="${contato.imagem}">
                                                    <li>Nome: <p>${contato.nome}</p></li><br>
                                                    <div id="especiaidade1">${contato.especialidade}</div><br>
                                                    <li>CPF: <p>${contato.cpf}</p></li><br>
                                                    <li>Cidade: <p>${contato.cidade}</p></li><br>
                                                    <li>Convênio: <p>${contato.convenio}&nbsp</p></li>
                                                    <li>Especialidade: <p>${contato.especialidade}&nbsp</p></li>
                                                    <li>Preço: <p>${contato.preco}</p></li><br>
                                                    <li>Jornada: <p>${contato.jornada}&nbsp &nbsp &nbsp</p></li>
                                                    <li>Horario: <p>${contato.horario}</p></li><br>
                                                    <li>E-mail: <p>${contato.email}&nbsp</p></li>
                                                    <li>Telefone: <p>${contato.telefone}&nbsp &nbsp &nbsp</p></li>
                                                    <li>Telefone: <p>${contato.telefone2}</p></li>
                                                </ul>`);
            }
        }

        function init() {
            // Adiciona funções para tratar os eventos 
            $("#btnInsert").click(function () {
                // Verfica se o formulário está preenchido corretamente
                if (!$('#form-contato')[0].checkValidity()) {
                    displayMessage("Preencha o formulário corretamente.");
                    return;
                }

                // Obtem os valores dos campos do formulário
                let campoNome = $("#inputNome").val();
                let campoCrm = $("#inputCrm").val();
                let campoCpf = $("#inputCpf").val();
                let campoCidade = $("#inputCidade").val();
                let campoConvenio = $("#inputConvenio").val();
                let campoEspecialidade = $("#inputEspecialidade").val();
                let campoPreco = $("#inputPreco").val();
                let campoJornada = $('#inputJornada').val();
                let campoHorario = $("#inputHorario").val();
                let campoEmail = $('#inputEmail').val();
                let campoTelefone = $('#inputTelefone').val();
                let campoTelefone2 = $('#inputTelefone2').val();


                let contato = {
                    nome: campoNome,
                    crm: campoCrm,
                    cnpjcpf: campoCpf,
                    cidade: campoCidade,
                    convenio: campoConvenio,
                    especialidade: campoEspecialidade,
                    preco: campoPreco,
                    jornada: campoJornada,
                    horario: campoHorario,
                    email: campoEmail,
                    telefone: campoTelefone,
                    telefone2: campoTelefone
                };

                insertContato(contato);

                // Reexibe os contatos
                exibeContatos();

                // Limpa o formulario
                $("#form-contato")[0].reset();
            });

            // Intercepta o click do botão Alterar
            $("#btnUpdate").click(function () {
                // Obtem os valores dos campos do formulário
                let campoId = $("#inputId").val();
                if (campoId == "") {
                    displayMessage("Selecione um contato para ser alterado.");
                    return;
                }
                let campoNome = $("#inputNome").val();
                let campoCrm = $("#inputCrm").val();
                let campoCpf = $("#inputCpf").val();
                let campoCidade = $("#inputCidade").val();
                let campoConvenio = $("#inputConvenio").val();
                let campoEspecialidade = $("#inputEspecialidade").val();
                let campoPreco = $("#inputPreco").val();
                let campoJornada = $('#inputJornada').val();
                let campoHorario = $("#inputHorario").val();
                let campoEmail = $('#inputEmail').val();
                let campoTelefone = $('#inputTelefone').val();
                let campoTelefone2 = $('#inputTelefone2').val();


                let contato = {
                    nome: campoNome,
                    crm: campoCrm,
                    cpf: campoCpf,
                    cidade: campoCidade,
                    convenio: campoConvenio,
                    especialidade: campoEspecialidade,
                    preco: campoPreco,
                    jornada: campoJornada,
                    horario: campoHorario,
                    email: campoEmail,
                    telefone: campoTelefone,
                    telefone2: campoTelefone
                };

                updateContato(parseInt(campoId), contato);

                // Reexibe os contatos
                exibeContatos();

                // Limpa o formulario
                $("#form-contato")[0].reset();
            });

            // Intercepta o click do botão Excluir
            $("#btnDelete").click(function () {
                let campoId = $("#inputId").val();
                if (campoId == "") {
                    displayMessage("Selecione um contato a ser excluído.");
                    return;
                }
                deleteContato(parseInt(campoId));

                // Reexibe os contatos
                exibeContatos();

                // Limpa o formulario
                $("#form-contato")[0].reset();
            });

            // Intercepta o click do botão Listar Contatos
            $("#btnClear").click(function () {
                $("#form-contato")[0].reset();
            });

            // Oculta a mensagem de aviso após alguns segundos
            $('#msg').bind("DOMSubtreeModified", function () {
                window.setTimeout(function () {
                    $(".alert").fadeTo(500, 0).slideUp(500, function () {
                        $(this).remove();
                    });
                }, 5000);
            });

            // Preenche o formulário quando o usuario clicar em uma linha da tabela 
            $("#grid-contatos").on("click", "ul", function (e) {
                let linhaContato = this;
                colunas = linhaContato.querySelectorAll("p");

                $("#inputId").val(colunas[0].innerText);
                $("#inputNome").val(colunas[1].innerText);
                $("#inputCrm").val(colunas[2].innerText);
                $("#inputCpf").val(colunas[3].innerText);
                $("#inputCidade").val(colunas[4].innerText);
                $("#inputConvenio").val(colunas[5].innerText);
                $("#inputEspecialidade").val(colunas[6].innerText);
                $("#inputPreco").val(colunas[7].innerText);
                $('#inputJornada').val(colunas[8].innerText);
                $("#inputHorario").val(colunas[9].innerText);
                $('#inputEmail').val(colunas[10].innerText);
                $('#inputTelefone').val(colunas[11].innerText);
                $('#inputTelefone2').val(colunas[12].innerText);
            });
            exibeContatos();
        }
    </script>
</body>
</html>
</br>



</div>
<div class="row">
  <div class="col-sm-12">
      <table id="grid-contatos" class="table table-striped">
          <tbody id="table-contatos">
          </tbody>
      </table>
  </div>
</div>